<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 快排 分治(divide and conquer)算法
        // 1. 对于当前数组，取最后一个元素当做基准数（privot）
        // 2. 将所有比基准数小的元素排到基准数之前，比基准数大的排在基准数之后
        // 3. 当基准数被放到准确位置之后，根据基准数的位置将元素切分为前后两个子数组
        // 4. 对子数组采用步骤 1 ~ 4 的递归操作，知道子数组的长度小于等于 1 为止
        function quickSort(arr, left = 0, right = arr.length - 1) {
            if (left >= right) return
            const partitionIndex = partition(arr, left, right)
            quickSort(arr, left, partitionIndex - 1)
            quickSort(arr, partitionIndex + 1, right)
        }

        function partition(arr, left, right) {
            const pivot = arr[right]
            let leftIndex = 0
            let rightIndex = right - 1
            while (true) {
                while (leftIndex < right && arr[leftIndex] <= pivot) {
                    leftIndex++
                }
                while (rightIndex >= left && arr[rightIndex] > pivot) {
                    rightIndex--
                }
                if (leftIndex > rightIndex) break
                swap(arr, leftIndex, rightIndex)
            }
            swap(arr, leftIndex, right)
            return leftIndex
        }

        function swap(arr, left, right) {
            const temp = arr[left]
            arr[left] = arr[right]
            arr[right] = temp
        }

        const arr = [9, -3, 5, 2, 6, 8, -6, 1, 3]
        quickSort(arr, 0, arr.length - 1)
        console.log(arr)
    </script>
</body>

</html>