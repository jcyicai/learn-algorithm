<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>选择排序</title>
  </head>

  <body>
    <script>
      /**
       * 选择排序
       * 1. 初始状态下，所有元素未排序，即未排序（索引）区间为 [0, n - 1]
       * 2. 选取区间 [0, n - 1] 中的最小元素，将其与索引 0 处的元素交换。完成后，数组前 1 个元素已排序。
       * 3. 选取区间 [1, n - 1] 中的最小元素，将其与索引 1 处的元素交换。完成后，数组前 2 个元素已排序。
       * 4. 以此类推。经过 n - 1 轮选择与交换后，数组前 n - 1 个元素已排序。
       * 5. 仅剩的一个元素必定是最大元素，无须排序，因此数组排序完成。
       */

      const arr = [4, 1, 5, 3, 2, 6, 8, 7]

      function selectionSort(arr) {
        if (!(Array.isArray(arr) && arr.length)) {
          return
        }

        let n = arr.length
        // 外循环 未排序区间为 [i, n - 1]
        for (let i = 0; i < n - 1; i++) {
          // 内循环 找到未排序区间内的最小元素
          let k = i
          for (let j = i + 1; j < n; j++) {
            if (arr[j] < arr[k]) {
              // 记录最小元素索引
              k = j
            }
          }
          /**
           * 将该最小元素与未排序区间的首个元素交换
           * 参考：交换变量
           * url: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment
           */
          ;[arr[i], arr[k]] = [arr[k], arr[i]]
        }
      }

      // console.time()  console.timeEnd() 打印执行耗时
      console.time()
      selectionSort(arr)
      console.timeEnd()

      // 输出结果
      console.log(arr)
    </script>
  </body>
</html>
